<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Save on Gurus</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;700&family=Comic+Neue:wght@700&display=swap" rel="stylesheet">
  <style>
    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2.5rem;
      background: #fff;
      box-shadow: 0 4px 10px rgba(0,0,0,0.05);
      border-bottom: 2px solid #e5dec2;
    }

    .navbar a.logo {
      font-family: 'Comic Neue', cursive;
      font-size: 1.6rem;
      color: #5a4b2f;
      text-decoration: none;
      font-weight: 700;
    }

    .profile-container { display:flex; align-items:center; gap:10px; }

    .profile-icon { font-size:1.5rem; cursor:pointer; transition:transform .3s; }
    .profile-icon:hover { transform:scale(1.15); }

    .profile-email { font-weight:600; color:#5a4b2f; }

    .logout-btn {
      background: linear-gradient(135deg,#c6b999,#b7a67c);
      border: none; color:#fff; border-radius:25px; padding:6px 15px; font-weight:600; cursor:pointer;
    }
    .logout-btn:hover { opacity:.9; transform:scale(1.05); }

    .login-btn, .signup-btn {
      border: 1.5px solid #c6b999; border-radius:25px; padding:6px 15px; font-weight:600; text-decoration:none;
    }
    .login-btn { background:#fff; color:#9f8b58; }
    .signup-btn { background: linear-gradient(135deg,#c6b999,#b7a67c); color:#fff; border:none; }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Poppins', sans-serif;
      font-weight: 600;
      background-color: white;
      color: black;
      line-height: 1.6;
      overflow-x: hidden;
    }

    nav {
      background-color: #e5dec2;
      padding: 1.2rem 2rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 2px solid #d0c7a6;
      font-weight: 700;
    }

    nav img.logo { height: 50px; cursor: pointer; transition: transform 0.3s ease; }
    nav img.logo:hover { transform: scale(1.05); }

    .nav-links { display: flex; gap: 1.6rem; font-size: 1.05rem; }
    .nav-links a { text-decoration: none; color: rgb(47,47,47); }
    .nav-links a:hover { color: rgb(250,211,167); }

    .nav-icons { display: flex; align-items: center; gap: 1rem; font-size: 1.6rem; cursor: pointer; }

    .hero { background-color: #ffffff; padding: 3.5rem 1rem; }
    .hero-content { display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:2rem; max-width:1200px; margin:0 auto; }
    .hero-text { flex:1; min-width:260px; }
    .hero-text h1 { font-family:'Comic Neue', cursive; font-size:2.6rem; margin-bottom:.8rem; font-weight:700; }
    .hero-text p { font-size:1.05rem; margin-bottom:1.2rem; font-weight:600; }
    .hero-buttons button { border:none; padding:.7rem 1.4rem; border-radius:2rem; font-weight:700; cursor:pointer; margin-right:.5rem; transition:all .25s; }
    .hero-buttons button:first-child { background: linear-gradient(135deg,#c6b999,#b7a67c); color:white; box-shadow:0 4px 8px rgba(0,0,0,0.12); }
    .hero-buttons button:last-child { background:#d8cfb5; color:black; box-shadow:0 4px 8px rgba(0,0,0,0.12); }
    .hero img { width: 380px; border-radius: 1rem; flex:1; min-width:260px; box-shadow:0 6px 12px rgba(0,0,0,0.12); }

    section { padding: 3.2rem 1rem; font-weight:700; }
    section h2 { font-family:'Comic Neue', cursive; font-size:1.9rem; margin-bottom:1.2rem; text-align:center; }

    .new-arrivals { background-color:#f4ebd7; }
    .new-badge { display:inline-block; background:#e94d3f; color:white; padding:.4rem .8rem; border-radius:50%; font-weight:bold; transform:rotate(-15deg); margin:0 auto 1rem; display:block; width:fit-content; }

    .items { display:flex; justify-content:center; flex-wrap:wrap; gap:1.6rem; max-width:1100px; margin:0 auto; }
    .item { background:white; padding:1.2rem; border-radius:1rem; width: 260px; box-shadow:0 4px 8px rgba(0,0,0,0.12); text-align:center; transition:transform .18s, box-shadow .18s; }
    .item:hover { transform:translateY(-6px); box-shadow:0 8px 18px rgba(0,0,0,0.16); }
    .item img { width:150px; border-radius:.8rem; margin-bottom:.8rem; }
    .item h3 { font-size:1.05rem; margin: .4rem 0; }
    .item p { margin:.35rem 0; font-weight:600; color:#333; }
    .item button { background: linear-gradient(135deg,#a88f5f,#cbb67d); color:white; border:none; padding:.7rem 1.6rem; border-radius:2rem; font-weight:bold; cursor:pointer; margin-top:0.8rem; box-shadow:0 5px 10px rgba(0,0,0,0.14); transition: transform .15s; }
    .item button:hover { transform:translateY(-3px); }

    .discount { background-color:#fffdf8; text-align:center; }
    .discount-item { background:#f4ebd7; padding:1.8rem; border-radius:1rem; width:320px; margin:1.4rem auto; box-shadow:0 6px 12px rgba(0,0,0,0.12); font-weight:700; }

    .see-more { background:#e0d6b7; border:none; padding:.7rem 1.6rem; border-radius:2rem; font-weight:700; cursor:pointer; display:block; margin:1.6rem auto 0; }

    .scroll-to-top { position:fixed; bottom:25px; right:25px; width:55px; height:55px; background-color:rgb(193,188,188); border-radius:50%; display:flex; align-items:center; justify-content:center; color:white; font-size:24px; cursor:pointer; box-shadow:0 4px 8px rgba(0,0,0,0.2); }
    .scroll-to-top:hover { background-color:rgb(47,47,47); color:white; }

    footer { background-color:#e5dec2; color:black; text-align:center; padding:2rem 1rem; margin-top:2rem; border-top:2px solid #d0c7a6; font-weight:700; }

    .cart-slide {
      position: fixed;
      top: 0;
      right: -440px;
      width: 420px;
      height: 100%;
      background: #fffdf8; 
      box-shadow: -8px 0 30px rgba(0,0,0,0.18);
      transition: right .36s cubic-bezier(.22,.9,.32,1);
      z-index: 1100;
      padding: 1.4rem;
      overflow-y: auto;
    }
    .cart-slide.active { right: 0; }
    .cart-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:1rem; }
    .close-cart { font-size:1.6rem; cursor:pointer; padding:.2rem .5rem; border-radius:.35rem; }
    .cart-item { display:flex; gap:.9rem; align-items:center; padding:.7rem 0; border-bottom:1px solid rgba(0,0,0,0.06); }
    .cart-item img { width:72px; height:72px; object-fit:cover; border-radius:8px; }
    .cart-item h4 { margin:0; font-size:1rem; }
    .cart-item p { margin: .25rem 0; color:#444; font-weight:600; }
    .cart-qty { display:flex; gap:.4rem; align-items:center; margin-top:.4rem; }
    .qty-btn { border:none; background:#dcd0b1; padding:.25rem .5rem; border-radius:.3rem; cursor:pointer; font-weight:700; }
    .checkout-btn { width:100%; padding:.9rem; background:#111; color:#fff; border:none; border-radius:40px; font-weight:800; margin-top:1rem; cursor:pointer; }
    .checkout-btn:hover{ background:#333; }

    .drawer-overlay { position: fixed; inset:0; background: rgba(0,0,0,0.35); opacity:0; pointer-events:none; transition: opacity .2s; z-index:1050; }
    .drawer-overlay.active { opacity:1; pointer-events:auto; }

    @media (max-width:640px) {
      .cart-slide { width: 100%; right: -100%; }
      .cart-slide.active { right: 0; }
      .hero img { width: 100%; max-width: 420px; }
      .items { gap:1rem; }
    }

    
    .search-box {
      display: flex;
      align-items: center;
      background: white;
      border-radius: 25px;
      padding: 0.3rem 0.8rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .search-box input {
      border: none;
      outline: none;
      font-size: 0.95rem;
      padding: 0.3rem 0.6rem;
      width: 140px;
      font-weight: 600;
    }
    .search-box span { cursor: pointer; font-size: 1.1rem; }

   
    .account-dropdown { position: relative; }
    .account-menu {
      display: none;
      position: absolute;
      top: 130%;
      right: 0;
      background: white;
      border-radius: 10px;
      box-shadow: 0 6px 14px rgba(0,0,0,0.15);
      padding: 0.8rem;
      z-index: 1200;
      min-width:160px;
    }
    .account-menu.show { display:block; }
    .account-menu button { display:block; width:100%; background:#e8e0c4; border:none; padding:8px; margin:6px 0; border-radius:8px; font-weight:600; cursor:pointer; }
    .account-menu p { margin:0 0 8px 0; font-weight:600; }
  </style>
</head>

<body>

  <nav>
    <img class="logo" src="https://cdn-icons-png.flaticon.com/512/3440/3440931.png" 
         alt="Save on Gurus Logo" onclick="location.href='index.html'">

    <div class="nav-links">
      <a href="index.html">Home</a>
      <a href="Discounts.html">Discounts</a>
      <a href="NewArrival.html">New Arrival</a>
      <a href="Popular.html">Popular</a>
    </div>

    <div class="nav-icons">
      <div class="search-box">
        <input type="text" id="searchInput" placeholder="Search products...">
        <span>üîç</span>
      </div>

      <span id="openCartBtn" title="Open cart">üõí</span>

      <div class="account-dropdown">
        <span id="accountIcon" title="Account">üë§</span>
        <div class="account-menu" id="accountMenu">
          
        </div>
      </div>

      <span title="Menu">‚ò∞</span>
    </div>
  </nav>

 
  <section class="hero">
    <div class="hero-content">
      <div class="hero-text">
        <h1>SAVE ON GURUS</h1>
        <p>Save money on random items in your daily life. There may be discounts.</p>
        <div class="hero-buttons">
          <button onclick="document.querySelector('.new-arrivals').scrollIntoView({behavior:'smooth'})">Discounted</button>
          <button onclick="document.querySelector('.new-arrivals').scrollIntoView({behavior:'smooth'})">New Arrivals!</button>
        </div>
      </div>
      <img src="https://mir-s3-cdn-cf.behance.net/project_modules/max_1200_webp/d942ab31641837.565a85a1d2cc5.png" alt="Tools and gadgets">
    </div>
  </section>

 
  <section class="new-arrivals">
    <div class="new-badge">NEW</div>
    <h2>NEW ARRIVALS!</h2>

    <div class="items">

      <div class="item" data-id="p1" data-name="Super Screwdriver" data-price="67.99" data-image="https://images.thdstatic.com/productImages/95a5fca5-d097-4804-bc70-9a214a2734a1/svn/wen-electric-screwdrivers-49103-64_1000.jpg">
        <img src="https://images.thdstatic.com/productImages/95a5fca5-d097-4804-bc70-9a214a2734a1/svn/wen-electric-screwdrivers-49103-64_1000.jpg" alt="Super Screwdriver">
        <h3>Super Screwdriver</h3>
        <p>‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è <span style="color: gray;">1,204</span></p>
        <p><b>$67<sup>99</sup></b></p>
        <p style="font-size:.9rem; color:#444;">FREE delivery Oct 16 - 18 on $35+</p>
        <button class="add-to-cart">üõí Add to Cart</button>
      </div>

      <div class="item" data-id="p2" data-name="BIG Wires" data-price="23.99" data-image="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRhogYtKZZxt8DT4NWm8VSlsZQTXXY1Sg9bcSeHgznSNrhtXDyU_QUTRsY6oUdWCFd-ifE&usqp=CAU">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRhogYtKZZxt8DT4NWm8VSlsZQTXXY1Sg9bcSeHgznSNrhtXDyU_QUTRsY6oUdWCFd-ifE&usqp=CAU" alt="BIG Wires">
        <h3>BIG Wires</h3>
        <p>‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è <span style="color: gray;">4,500</span></p>
        <p><b>$23<sup>99</sup></b></p>
        <p style="font-size:.9rem; color:#444;">FREE delivery Oct 16 - 18 on $35+</p>
        <button class="add-to-cart">üõí Add to Cart</button>
      </div>

      <div class="item" data-id="p3" data-name="Crazy Bow" data-price="41.99" data-image="https://i5.walmartimages.com/asr/f0b7fd32-3ad9-4fd9-aeb8-dd7ea1806307.2e2bf888112240c16e656bd549d7a35b.jpeg">
        <img src="https://i5.walmartimages.com/asr/f0b7fd32-3ad9-4fd9-aeb8-dd7ea1806307.2e2bf888112240c16e656bd549d7a35b.jpeg" alt="Crazy Bow">
        <h3>Crazy Bow</h3>
        <p>‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è <span style="color: gray;">6,700</span></p>
        <p><b>$41<sup>99</sup></b></p>
        <p style="font-size:.9rem; color:#444;">FREE delivery Oct 16 - 18 on $35+</p>
        <button class="add-to-cart">üõí Add to Cart</button>
      </div>
    </div>

    <button class="see-more">See More</button>
  </section>

  <section class="discount">
    <h2>DISCOUNTED</h2>
    <p><b>BIGGEST DISCOUNTED ITEM TODAY!</b></p>
    
    <div class="discount-item item" data-id="p4" data-name="Oak Wood Plank" data-price="22.00" data-image="https://images.pexels.com/photos/172276/pexels-photo-172276.jpeg?cs=srgb&dl=pexels-fwstudio-33348-172276.jpg&fm=jpg">
      <img src="https://images.pexels.com/photos/172276/pexels-photo-172276.jpeg?cs=srgb&dl=pexels-fwstudio-33348-172276.jpg&fm=jpg" alt="Wood" width="100" height="100">
      <p>‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è <span style="color: gray;">2,030</span></p>
      <div class="price"><span style="text-decoration:line-through; color:gray;">$76<sup>99</sup></span> <span style="color:red; margin-left:.5rem;">$22</span></div>
      <p style="color:red; font-weight:bold;">71% Discount</p>
      <p style="font-size:.9rem; color:#444;">FREE delivery Oct 16 - 18 on $35+</p>
      <button class="add-to-cart see-more">üõí Add to Cart</button>
    </div>
  
    <button class="see-more">See More</button>
  </section>

  <div class="scroll-to-top" onclick="scrollToTop()" title="Scroll to Top">‚Üë</div>

  <footer>
    <p>@Save On Gurus</p>
    <p>5908 W 694 Ave, Vancouver</p>
    <div class="footer-icons">
      <img src="https://cdn-icons-png.flaticon.com/512/1384/1384005.png" alt="Facebook" width="30">
      <img src="https://cdn-icons-png.flaticon.com/512/174/174857.png" alt="LinkedIn" width="30">
      <img src="https://cdn-icons-png.flaticon.com/512/1384/1384015.png" alt="Instagram" width="30">
    </div>
  </footer>


  <div class="drawer-overlay" id="drawerOverlay"></div>

  <aside class="cart-slide" id="cartSlide" aria-hidden="true">
    <div class="cart-header">
      <h2>Your Cart</h2>
      <button class="close-cart" id="closeCartBtn" aria-label="Close cart">&times;</button>
    </div>

    <div id="cartItemsContainer"></div>

    <div style="margin-top:1rem; font-weight:800; display:flex; justify-content:space-between;">
      <div>Subtotal</div>
      <div id="drawerSubtotal">$0.00</div>
    </div>

    <button class="checkout-btn" id="drawerCheckoutBtn">Checkout</button>
  </aside>

  <script>
  
    function fmt(v){ return '$' + Number(v).toFixed(2); }
    const CART_KEY = 'cartItems';
    function getCart(){ return JSON.parse(localStorage.getItem(CART_KEY) || '[]'); }
    function saveCart(cart){ localStorage.setItem(CART_KEY, JSON.stringify(cart)); }

    function addToCart(product){
      const cart = getCart();
      const existing = cart.find(i => i.id === product.id);
      if(existing){ existing.quantity += 1; }
      else { cart.push(Object.assign({quantity:1}, product)); }
      saveCart(cart);
      renderDrawer();
      flashCartCount();
    }
    function removeFromCart(id){
      let cart = getCart().filter(i => i.id !== id);
      saveCart(cart);
      renderDrawer();
    }
    function updateQty(id, qty){
      const cart = getCart();
      const item = cart.find(i => i.id === id);
      if(!item) return;
      item.quantity = Math.max(1, qty);
      saveCart(cart);
      renderDrawer();
    }
    function calcSubtotal(){ return getCart().reduce((s,i)=> s + (Number(i.price) * Number(i.quantity)), 0); }

  
    const cartSlide = document.getElementById('cartSlide');
    const overlay = document.getElementById('drawerOverlay');
    const openCartBtn = document.getElementById('openCartBtn');
    const closeCartBtn = document.getElementById('closeCartBtn');
    const drawerCheckoutBtn = document.getElementById('drawerCheckoutBtn');

    function renderDrawer(){
      const container = document.getElementById('cartItemsContainer');
      container.innerHTML = '';
      const cart = getCart();
      if(cart.length === 0){
        container.innerHTML = '<p style="color:#666; padding:1rem 0;">Your cart is empty.</p>';
      } else {
        cart.forEach(item => {
          const el = document.createElement('div');
          el.className = 'cart-item';
          el.innerHTML = `
            <img src="${item.image}" alt="${item.name}">
            <div style="flex:1;">
              <h4>${item.name}</h4>
              <p>${fmt(item.price)}</p>
              <div class="cart-qty">
                <button class="qty-btn" data-action="decrease" data-id="${item.id}">-</button>
                <div style="min-width:26px; text-align:center;">${item.quantity}</div>
                <button class="qty-btn" data-action="increase" data-id="${item.id}">+</button>
                <button style="margin-left:.6rem; background:transparent; border:none; color:#c33; cursor:pointer;" data-action="remove" data-id="${item.id}">Remove</button>
              </div>
            </div>
          `;
          container.appendChild(el);
        });
      }
      document.getElementById('drawerSubtotal').textContent = fmt(calcSubtotal());
    }

    document.getElementById('cartItemsContainer').addEventListener('click', (e)=>{
      const btn = e.target.closest('[data-action]');
      if(!btn) return;
      const id = btn.getAttribute('data-id');
      const action = btn.getAttribute('data-action');
      const cart = getCart();
      const item = cart.find(i => i.id === id);
      if(!item) return;
      if(action === 'decrease') updateQty(id, item.quantity - 1);
      if(action === 'increase') updateQty(id, item.quantity + 1);
      if(action === 'remove') removeFromCart(id);
    });

    function openDrawer(){ cartSlide.classList.add('active'); overlay.classList.add('active'); renderDrawer(); }
    function closeDrawer(){ cartSlide.classList.remove('active'); overlay.classList.remove('active'); }

    openCartBtn.addEventListener('click', openDrawer);
    closeCartBtn.addEventListener('click', closeDrawer);
    overlay.addEventListener('click', closeDrawer);

    drawerCheckoutBtn.addEventListener('click', () => { window.location.href = 'ShoppingCart.html'; });

    document.querySelectorAll('.add-to-cart').forEach(btn=>{
      btn.addEventListener('click', (e)=>{
        const card = e.target.closest('.item, .discount-item');
        const product = {
          id: card.dataset.id,
          name: card.dataset.name,
          price: Number(card.dataset.price),
          image: card.dataset.image
        };
        addToCart(product);
        openDrawer();
        setTimeout(closeDrawer, 1400);
      });
    });

    function flashCartCount(){
      if(!openCartBtn) return;
      openCartBtn.style.transform = 'scale(1.08)';
      setTimeout(()=> openCartBtn.style.transform = '', 160);
    }

    function scrollToTop(){ window.scrollTo({ top:0, behavior:'smooth' }); }
    document.querySelector('.scroll-to-top').addEventListener('click', scrollToTop);

    renderDrawer();

    (function setupSearch(){
      const searchInput = document.getElementById('searchInput');
      if(!searchInput) return;
      searchInput.addEventListener('input', () => {
        const term = searchInput.value.trim().toLowerCase();
        document.querySelectorAll('.item').forEach(item => {
          const nameEl = item.querySelector('h3');
          const name = nameEl ? nameEl.textContent.toLowerCase() : '';
          item.style.display = name.includes(term) ? 'block' : 'none';
        });
      });
    })();


    (function setupAccount(){
      const accountIcon = document.getElementById('accountIcon');
      const accountMenu = document.getElementById('accountMenu');

      function renderAccountMenu(){
        const loggedIn = localStorage.getItem('loggedIn') === 'true';
        const user = JSON.parse(localStorage.getItem('user') || '{}');

        if(loggedIn && user.email){
          accountMenu.innerHTML = `
            <p>üëã ${user.email}</p>
            <button id="profileBtn">My Profile</button>
            <button id="logoutBtn">Logout</button>
          `;
          
          const profileBtn = document.getElementById('profileBtn');
          if(profileBtn) profileBtn.addEventListener('click', ()=> window.location.href = 'profile.html');

          document.getElementById('logoutBtn').addEventListener('click', ()=>{
            localStorage.removeItem('loggedIn');
            localStorage.removeItem('user');
            alert('You have logged out successfully!');
            location.reload();
          });
        } else {
          accountMenu.innerHTML = `
            <button id="loginBtn">Log In</button>
            <button id="signupBtn">Sign Up</button>
          `;
          document.getElementById('loginBtn').addEventListener('click', ()=> window.location.href = 'login.html');
          document.getElementById('signupBtn').addEventListener('click', ()=> window.location.href = 'signup.html');
        }
      }

 
      accountIcon.addEventListener('click', (e)=>{
        e.stopPropagation();
        accountMenu.classList.toggle('show');
      });


      document.addEventListener('click', (e)=>{
        if(!e.target.closest('.account-dropdown')){
          accountMenu.classList.remove('show');
        }
      });

      renderAccountMenu();
    })();
  </script>
</body>
</html>
