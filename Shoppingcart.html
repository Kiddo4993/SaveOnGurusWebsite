<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Complete Your Order - Save On Gurus</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Comic+Neue:wght@700&display=swap" rel="stylesheet">
  <style>
    *{ box-sizing:border-box; margin:0; padding:0; }
    body{ 
      font-family:'Poppins', sans-serif; 
      background:linear-gradient(180deg,#fafafa 0%,#f1efe7 100%); 
      color:#111; 
      line-height:1.5;
    }

    nav{ 
      background:#e5dec2; 
      padding:1rem 2rem; 
      display:flex; 
      justify-content:space-between; 
      align-items:center; 
      border-bottom:2px solid #d0c7a6; 
      font-weight:700; 
      letter-spacing:.5px;
    }
    nav strong{ font-weight:800; font-size:1.2rem; }

    .container{ 
      max-width:1200px; 
      margin:2.5rem auto; 
      display:flex; 
      gap:2rem; 
      padding:0 1rem;
    }
    .left, .right{
      background:#fff; 
      border-radius:14px; 
      padding:1.6rem; 
      box-shadow:0 10px 30px rgba(0,0,0,0.08);
    }
    .left{ flex:2; }
    .right{ flex:1; height:fit-content; position:sticky; top:2rem; }

    h1{ 
      font-family:'Comic Neue', cursive; 
      font-size:1.9rem; 
      margin-bottom:1rem; 
      font-weight:700; 
      color:#222; 
      display:flex; 
      align-items:center; 
      gap:.5rem;
    }

    .item{ 
      display:flex; 
      gap:1rem; 
      padding:1rem 0; 
      border-bottom:1px solid #eee; 
      align-items:center; 
    }
    .item img{ 
      width:130px; 
      height:130px; 
      object-fit:cover; 
      border-radius:12px; 
      transition:transform .2s; 
    }
    .item img:hover{ transform:scale(1.05); }
    .item-info h3{ margin-bottom:.4rem; font-size:1.05rem; font-weight:600; }
    .item-info p{ margin:.25rem 0; color:#555; font-weight:500; }
    .item-controls{ display:flex; gap:.6rem; align-items:center; margin-top:.6rem; }
    .qty-btn{ 
      padding:.35rem .7rem; 
      border-radius:.4rem; 
      border:none; 
      background:#e9e3ce; 
      cursor:pointer; 
      font-weight:800; 
      transition:background .2s; 
    }
    .qty-btn:hover{ background:#d8d1b8; }

    .summary-line{ display:flex; justify-content:space-between; margin:.7rem 0; font-weight:600; }
    .summary-line span{ color:#333; }
    hr{ border:none; border-top:1px solid #eee; margin:1rem 0; }

    .checkout-btn{ 
      width:100%; 
      padding:1rem; 
      background:#111; 
      color:#fff; 
      border:none; 
      border-radius:40px; 
      font-weight:700; 
      font-size:1rem;
      cursor:pointer; 
      transition:background .3s, transform .2s; 
    }
    .checkout-btn:hover{ background:#333; transform:scale(1.02); }
    .order-more{ 
      width:100%; 
      padding:.9rem; 
      border-radius:40px; 
      border:2px solid #111; 
      background:transparent; 
      margin-top:.8rem; 
      font-weight:700; 
      cursor:pointer; 
      transition:background .3s, color .3s; 
    }
    .order-more:hover{ background:#111; color:#fff; }

    /* recommended */
    .recommend{ max-width:1200px; margin:3rem auto; padding:0 1rem; }
    .recommend h2{ 
      font-family:'Comic Neue', cursive; 
      font-size:1.6rem; 
      margin-bottom:1.3rem; 
      text-align:center; 
      color:#222;
    }
    .recommend-grid{ 
      display:grid; 
      grid-template-columns:repeat(auto-fit, minmax(250px,1fr)); 
      gap:1.5rem; 
    }

    .rec-item img { 
  width: 100%; 
  height: 160px;        /* smaller, more balanced height */
  object-fit: cover; 
  border-radius: 10px; 
  margin-bottom: 0.8rem; 
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  box-shadow: 0 3px 10px rgba(0,0,0,0.08);  /* soft shadow for realism */
}

.rec-item:hover img { 
  transform: scale(1.05); 
  box-shadow: 0 6px 16px rgba(0,0,0,0.15);  /* enhanced hover effect */
}

.rec-item {
  background: #fff;
  padding: 1rem;
  border-radius: 14px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.05);
  text-align: center;
  transition: all 0.25s ease;
}

.rec-item:hover {
  transform: translateY(-4px);
  box-shadow: 0 10px 24px rgba(0,0,0,0.1);
}

    .rec-item img{ 
      width:100%; 
      aspect-ratio: 1 / 1;
      object-fit:cover; 
      border-radius:12px; 
      margin-bottom:.7rem; 
      transition:transform .3s ease;
    }
    .rec-item:hover img{ transform:scale(1.05); }

    .rec-item h4{ font-size:1.1rem; font-weight:600; color:#222; margin-bottom:.3rem; }
    .rec-item p{ font-weight:600; color:#444; margin-bottom:0.8rem; }

    .add-btn{
      padding:0.6rem 1.2rem;
      border:none;
      border-radius:30px;
      background:#111;
      color:#fff;
      font-weight:700;
      cursor:pointer;
      transition:background 0.3s, transform 0.2s;
    }
    .add-btn:hover{
      background:#333;
      transform:scale(1.05);
    }

    /* Toast message */
    .toast {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background: #111;
      color: #fff;
      padding: 0.9rem 1.3rem;
      border-radius: 30px;
      font-weight:600;
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.3s ease;
      pointer-events:none;
      z-index:1000;
    }
    .toast.show {
      opacity: 1;
      transform: translateY(0);
    }

    @media (max-width:900px){
      .container{ flex-direction:column; padding:1rem; }
      .item img{ width:110px; height:110px; }
      .right{ position:relative; top:auto; }
    }
  </style>
</head>
<body>
  <nav>
    <strong>Save On Gurus</strong>
    <div>ðŸ›’</div>
  </nav>

  <main class="container">
    <section class="left">
      <h1> Complete Your Order</h1>
      <div id="cartList"></div>
      <div style="margin-top:1rem; display:flex; gap:1rem; align-items:center;">
        <button class="order-more" onclick="location.href='index.html'">Continue Shopping</button>
      </div>
    </section>

    <aside class="right">
      <h2>Order Summary</h2>
      <div class="summary-line"><span>Subtotal</span><span id="subtotalText">$0.00</span></div>
      <div class="summary-line"><span>Shipping</span><span id="shippingText">$5.00</span></div>
      <div class="summary-line"><span>Tax</span><span id="taxText">$0.00</span></div>
      <hr>
      <div class="summary-line" style="font-size:1.1rem;"><strong>Total</strong><strong id="totalText">$0.00</strong></div>
      <button class="checkout-btn" id="placeOrderBtn">Complete Your Order</button>
    </aside>
  </main>

  <section class="recommend">
    <h2>Other Items People Pair It With</h2>
    <div class="recommend-grid" id="recommendGrid">
      <div class="rec-item" data-id="rec1" data-name="Super Screwdriver" data-price="67.99" data-image="https://images.thdstatic.com/productImages/95a5fca5-d097-4804-bc70-9a214a2734a1/svn/wen-electric-screwdrivers-49103-64_1000.jpg">
        <img src="https://images.thdstatic.com/productImages/95a5fca5-d097-4804-bc70-9a214a2734a1/svn/wen-electric-screwdrivers-49103-64_1000.jpg" alt="Super Screwdriver">
        <h4>Super Screwdriver</h4>
        <p>$67.99</p>
        <button class="add-btn">Add to Cart</button>
      </div>
      <div class="rec-item" data-id="rec2" data-name="Big Wires" data-price="23.99" data-image="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRhogYtKZZxt8DT4NWm8VSlsZQTXXY1Sg9bcSeHgznSNrhtXDyU_QUTRsY6oUdWCFd-ifE&usqp=CAU">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRhogYtKZZxt8DT4NWm8VSlsZQTXXY1Sg9bcSeHgznSNrhtXDyU_QUTRsY6oUdWCFd-ifE&usqp=CAU" alt="Big Wires">
        <h4>Big Wires</h4>
        <p>$23.99</p>
        <button class="add-btn">Add to Cart</button>
      </div>
    </div>
  </section>

  <footer style="background:#e5dec2; padding:1.6rem; text-align:center; margin-top:2rem; border-top:2px solid #d0c7a6;">
    Â© 2025 Save On Gurus â€” Vancouver
  </footer>

  <div class="toast" id="toast">Added to Cart!</div>

  <script>
    const CART_KEY = 'cartItems';
    function getCart(){ return JSON.parse(localStorage.getItem(CART_KEY) || '[]'); }
    function saveCart(cart){ localStorage.setItem(CART_KEY, JSON.stringify(cart)); }
    function fmt(v){ return '$' + Number(v).toFixed(2); }

    function calcShipping(subtotal){ return subtotal >= 30 ? 0 : 5.00; }
    function calcTax(subtotal){ return +(subtotal * 0.08).toFixed(2); }

    function showToast(msg){
      const toast = document.getElementById('toast');
      toast.textContent = msg;
      toast.classList.add('show');
      setTimeout(()=> toast.classList.remove('show'), 1800);
    }

    function renderCartPage(){
      const list = document.getElementById('cartList');
      const cart = getCart();
      list.innerHTML = '';
      if(cart.length === 0){
        list.innerHTML = '<p style="color:#666; padding:1rem 0;">Your cart is empty. Add items from the homepage.</p>';
      } else {
        cart.forEach(item => {
          const el = document.createElement('div');
          el.className = 'item';
          el.innerHTML = `
            <img src="${item.image}" alt="${item.name}">
            <div style="flex:1;">
              <div class="item-info">
                <h3>${item.name}</h3>
                <p>Price: ${fmt(item.price)}</p>
                <p>Line: <span id="line-${item.id}">${fmt(item.price * item.quantity)}</span></p>
                <div class="item-controls">
                  <button class="qty-btn" data-action="dec" data-id="${item.id}">-</button>
                  <div style="min-width:28px; text-align:center;">${item.quantity}</div>
                  <button class="qty-btn" data-action="inc" data-id="${item.id}">+</button>
                  <button class="qty-btn" data-action="remove" data-id="${item.id}" style="background:#f8d7da;">Remove</button>
                </div>
              </div>
            </div>`;
          list.appendChild(el);
        });
      }

      const subtotal = cart.reduce((s,i)=> s + (Number(i.price) * Number(i.quantity)), 0);
      const shipping = calcShipping(subtotal);
      const tax = calcTax(subtotal);
      const total = +(subtotal + shipping + tax).toFixed(2);

      document.getElementById('subtotalText').textContent = fmt(subtotal);
      document.getElementById('shippingText').textContent = shipping === 0 ? 'Free Shipping' : fmt(shipping);
      document.getElementById('taxText').textContent = fmt(tax);
      document.getElementById('totalText').textContent = fmt(total);
    }

    document.getElementById('cartList').addEventListener('click', (e)=>{
      const btn = e.target.closest('[data-action]');
      if(!btn) return;
      const action = btn.dataset.action;
      const id = btn.dataset.id;
      const cart = getCart();
      const item = cart.find(i => i.id === id);
      if(!item) return;
      if(action === 'dec') item.quantity = Math.max(1, item.quantity - 1);
      else if(action === 'inc') item.quantity += 1;
      else if(action === 'remove') cart.splice(cart.findIndex(i => i.id === id), 1);
      saveCart(cart);
      renderCartPage();
    });


    document.querySelectorAll('.add-btn').forEach(btn => {
      btn.addEventListener('click', (e)=>{
        const card = e.target.closest('.rec-item');
        const id = card.dataset.id;
        const name = card.dataset.name;
        const price = parseFloat(card.dataset.price);
        const image = card.dataset.image;

        const cart = getCart();
        const existing = cart.find(i => i.id === id);
        if(existing) existing.quantity += 1;
        else cart.push({ id, name, price, image, quantity: 1 });

        saveCart(cart);
        renderCartPage();
        showToast(` ${name} added to cart`);
      });
    });

    document.getElementById('placeOrderBtn').addEventListener('click', ()=>{
      const cart = getCart();
      if(cart.length === 0){ alert('Your cart is empty.'); return; }
      alert('Order placed! Wait 6â€“7 business days for delivery.');
      localStorage.removeItem(CART_KEY);
      renderCartPage();
      setTimeout(()=> location.href='index.html', 800);
    });

    renderCartPage();
  </script>
</body>
</html>
